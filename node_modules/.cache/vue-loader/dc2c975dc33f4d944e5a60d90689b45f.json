{"remainingRequest":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/src/views/News.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/src/views/News.vue","mtime":1612981546877},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbmZpbml0ZUxvYWRpbmcgZnJvbSAndnVlLWluZmluaXRlLWxvYWRpbmcnCgppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKaW1wb3J0IE5ld3NTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvTmV3c1NlcnZpY2UnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05ld3MnLAogIGRhdGE6ICgpID0+ICh7CiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGxvYWRlZDogZmFsc2UsCiAgICBlcnJvcmVkOiBmYWxzZSwKICAgIG5ld3M6IFtdLAogICAgcGFnZTogMQogIH0pLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudFVzZXInLCAnZ2V0VXJsJywgJ2lzQXV0aGVudGljYXRlZCddKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0TmV3cygkc3RhdGUpIHsKICAgICAgaWYgKCF0aGlzLmxvYWRlZCkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgfQoKICAgICAgY29uc3QgbmV3cyA9IGF3YWl0IE5ld3NTZXJ2aWNlCiAgICAgICAgLmdldEFsbCgpCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWUKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKCiAgICAgIGlmICh0eXBlb2YgbmV3cyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybgogICAgIGNvbnNvbGUubG9nKG5ld3MuZGF0YS5sZW5ndGgpOwogICAgICBpZiAobmV3cy5kYXRhLmxlbmd0aCkgewogICAgICAgIHRoaXMucGFnZSArPSAxCiAgICAgICAgdGhpcy5uZXdzLnB1c2goLi4ubmV3cy5kYXRhKQogICAgICAgICRzdGF0ZS5sb2FkZWQoKQogICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZQogICAgICB9IGVsc2UgewogICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEluZmluaXRlTG9hZGluZwogIH0KfQo="},{"version":3,"sources":["News.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"News.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"pt-7 px-sm-10\">\n    <v-container fluid>\n      <v-row>\n        <v-col\n          cols=\"8\"\n          sm=\"7\"\n          md=\"10\"\n          lg=\"10\"\n          v-for=\"(item, i) in loading ? 12 : news\"\n          :key=\"i\"\n          class=\"mx-lg-0 mx-md-0 mx-sm-auto mx-auto\"\n        >\n          <v-skeleton-loader\n            class=\"mx-auto\"\n            type=\"list-item-avatar-three-line\"\n            :loading=\"loading\"\n            tile\n            large\n          >\n            <v-card class=\"card\" tile flat>\n              <v-row no-gutters>\n                <v-col class=\"mx-auto\" cols=\"12\" sm=\"8\" md=\"5\" lg=\"4\">\n                  <!-- <v-responsive max-height=\"100%\"> -->\n                  <v-img\n                    max-height=\"200\"\n                    class=\"align-center\"\n                    :src=\"`${item.image}`\"\n                  >\n                  </v-img>\n                  <!-- </v-responsive> -->\n                </v-col>\n                <v-col class=\"hidden-sm-and-down\">\n                  <div class=\"ml-4 \">\n                    <v-card-title class=\"pl-2 pt-0 subtitle-1 font-weight-bold\">\n                      {{ item.title }}\n                    </v-card-title>\n                    <v-card-subtitle class=\"pl-2 pb-0\">\n                      {{ item.author }}\n                      <v-icon>mdi-circle-small</v-icon\n                      >{{ item.views }}\n                      {{ item.date }}\n                    </v-card-subtitle>\n                    <v-card-subtitle class=\"pl-2 pt-0\">\n                      {{ item.body }}\n                    </v-card-subtitle>\n                    <v-card-subtitle class=\"pl-2 pt-0\">\n                      {{ item.url }}\n                    </v-card-subtitle>\n                  </div>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-skeleton-loader>\n        </v-col>\n        <v-col class=\"text-center\" v-if=\"news.length === 0 && !loading\">\n          <p>No news yet</p>\n        </v-col>\n        <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\">\n          <infinite-loading @infinite=\"getNews\">\n            <div slot=\"spinner\">\n              <v-progress-circular\n                indeterminate\n                color=\"red\"\n              ></v-progress-circular>\n            </div>\n            <div slot=\"no-results\"></div>\n            <span slot=\"no-more\"></span>\n            <div slot=\"error\" slot-scope=\"{ trigger }\">\n              <v-alert prominent type=\"error\">\n                <v-row align=\"center\">\n                  <v-col class=\"grow\">\n                    <div class=\"title\">Error!</div>\n                    <div>\n                      Something went wrong, but don’t fret — let’s give it\n                      another shot.\n                    </div>\n                  </v-col>\n                  <v-col class=\"shrink\">\n                    <v-btn @click=\"trigger\">Take action</v-btn>\n                  </v-col>\n                </v-row>\n              </v-alert>\n            </div>\n          </infinite-loading>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\n\nimport { mapGetters } from 'vuex'\nimport NewsService from '@/services/NewsService'\n\nexport default {\n  name: 'News',\n  data: () => ({\n    loading: false,\n    loaded: false,\n    errored: false,\n    news: [],\n    page: 1\n  }),\n  computed: {\n    ...mapGetters(['currentUser', 'getUrl', 'isAuthenticated'])\n  },\n  methods: {\n    async getNews($state) {\n      if (!this.loaded) {\n        this.loading = true\n      }\n\n      const news = await NewsService\n        .getAll()\n        .catch((err) => {\n          console.log(err)\n          this.errored = true\n        })\n        .finally(() => {\n          this.loading = false\n        })\n\n      if (typeof news === 'undefined') return\n     console.log(news.data.length);\n      if (news.data.length) {\n        this.page += 1\n        this.news.push(...news.data)\n        $state.loaded()\n        this.loaded = true\n      } else {\n        $state.complete()\n      }\n    }\n  },\n  components: {\n    InfiniteLoading\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.v-skeleton-loader__list-item-avatar-three-line {\n  height: 250px;\n  .v-skeleton-loader__paragraph.v-skeleton-loader__bone {\n    margin-top: -125px;\n    @media (max-width: 700px) {\n      display: none;\n      margin-top: inherit;\n    }\n  }\n  .v-skeleton-loader__avatar {\n    height: 200px !important;\n    width: 300px !important;\n  }\n  .v-skeleton-loader__text {\n    height: 20px;\n  }\n}\n</style>\n"]}]}