{"remainingRequest":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/babel-loader/lib/index.js!/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/eslint-loader/index.js??ref--13-0!/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/src/services/Api.js","dependencies":[{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/src/services/Api.js","mtime":1612988999501},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7CiAgdmFyIGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgYmFzZVVSTDogImh0dHA6Ly8zLjEzNi40OS4yNDc6MzAyNy9hcGkvdjEiCiAgfSk7CiAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogIGlmICh0b2tlbikgewogICAgYXhpb3NJbnN0YW5jZS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgfQoKICBheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfSk7CiAgcmV0dXJuIGF4aW9zSW5zdGFuY2U7Cn0pOw=="},{"version":3,"sources":["/home/sysadmin/Documents/vue project/vuetube/simple-vue-app/src/services/Api.js"],"names":["axios","axiosInstance","create","baseURL","token","localStorage","getItem","defaults","headers","common","Authorization","interceptors","response","use","error","status","removeItem","location","reload","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAe,YAAM;AACnB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa;AACjCC,IAAAA,OAAO;AAD0B,GAAb,CAAtB;AAIA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACTH,IAAAA,aAAa,CAACM,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsCC,aAAtC,oBAAgEN,KAAhE;AACD;;AAEDH,EAAAA,aAAa,CAACU,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACE,UAACD,QAAD;AAAA,WAAcA,QAAd;AAAA,GADF,EAEE,UAACE,KAAD,EAAW;AACT,QAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCV,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAX,MAAAA,YAAY,CAACW,UAAb,CAAwB,MAAxB;AACAC,MAAAA,QAAQ,CAACC,MAAT;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;AACD,GATH;AAYA,SAAOb,aAAP;AACD,CAvBD","sourcesContent":["import axios from 'axios'\n\nexport default () => {\n  const axiosInstance = axios.create({\n    baseURL: `http://3.136.49.247:3027/api/v1`\n  })\n\n  const token = localStorage.getItem('token')\n  if (token) {\n    axiosInstance.defaults.headers.common.Authorization = `Bearer ${token}`\n  }\n\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      if (error.response.status === 401) {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        location.reload()\n      }\n      return Promise.reject(error)\n    }\n  )\n\n  return axiosInstance\n}\n"]}]}